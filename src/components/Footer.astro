---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import Icon from "./Icon.astro";
import { faGithub, faInstagram, faLinkedin } from "../lib/icons";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const footerTitle = t("footer.title");
const footerDesc = t("footer.description");
const footerBottom = t("footer.bottom");

const socials = [
  { icon: faGithub, href: "https://github.com/JoyMoGas", label: "GitHub" },
  {
    icon: faLinkedin,
    href: "https://www.linkedin.com/in/jos%C3%A9-monta%C3%B1o-gast%C3%A9lum-527426270/",
    label: "LinkedIn",
  },
  {
    icon: faInstagram,
    href: "https://www.instagram.com/josemogas.5",
    label: "Instagram",
  },
];
---

<footer
  class="bg-primary-blur backdrop-blur-xl w-full border-t border-text-primary/10 pt-6 px-6.5 lg:px-20 lg:py-7.25"
>
  <div class="max-w-7xl mx-auto">
    <!-- Main row for content -->
    <article
      class="flex flex-row md:grid md:grid-cols-3 items-center justify-between md:justify-items-stretch gap-12 mb-6 md:mb-0"
    >
      <!-- Left (Desktop Copyright / Mobile Branding Title) -->
      <div class="md:w-full">
        <!-- Desktop Copyright (Hidden on Mobile) -->
        <div class="hidden md:block">
          <p class="font-jakarta text-3-5 font-medium text-text-primary/60">
            {footerBottom}
          </p>
        </div>

        <!-- Mobile Branding (Hidden on Desktop) -->
        <div class="md:hidden">
          <h2 class="font-fraunces text-4-5 font-semibold text-text-primary">
            {footerTitle}
          </h2>
          <p class="font-jetbrains text-3 font-medium">{footerDesc}</p>
        </div>
      </div>

      <!-- Center Branding (Desktop Only) -->
      <div class="hidden md:flex flex-col items-center text-center">
        <h2 class="font-fraunces text-10 font-bold text-text-primary mb-1">
          {footerTitle}
        </h2>
        <p
          class="font-jetbrains text-3-5 font-medium text-text-primary opacity-70 uppercase tracking-widest text-center max-w-xl leading-relaxed"
        >
          {footerDesc}
        </p>
      </div>

      <!-- Right (Socials: Icons on Mobile, Text in Column on Desktop) -->
      <div class="flex md:justify-end items-center">
        <!-- Mobile Icons (Hidden on Desktop) -->
        <div class="flex items-center gap-5 md:hidden">
          {
            socials.map(({ icon, href, label }) => (
              <a
                href={href}
                target="_blank"
                rel="noopener noreferrer"
                aria-label={label}
                class="text-text-primary opacity-70 hover:opacity-100 transition-opacity duration-200"
              >
                <Icon iconDef={icon} size={32} />
              </a>
            ))
          }
        </div>

        <!-- Desktop Text Links (Hidden on Mobile) -->
        <div class="hidden md:flex flex-col items-end gap-2">
          {
            socials.map(({ href, label }) => (
              <a
                href={href}
                target="_blank"
                rel="noopener noreferrer"
                class="font-jakarta text-3-5 font-medium text-text-primary uppercase tracking-widest opacity-70 hover:opacity-100 transition-all duration-200 hover:-translate-x-1"
              >
                {label}
              </a>
            ))
          }
        </div>
      </div>
    </article>

    <!-- Mobile Copyright (Bottom, Hidden on Desktop) -->
    <div
      class="md:hidden text-center font-jakarta text-2-75 text-text-primary pb-3-25"
    >
      {footerBottom}
    </div>
  </div>
</footer>
