---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import Icon from "./Icon.astro";
import { faGithub, faInstagram, faLinkedin } from "../lib/icons";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const footerTitle = t("footer.title");
const footerDesc = t("footer.description");
const footerBottom = t("footer.bottom");

const socials = [
  { icon: faGithub, href: "https://github.com/JoyMoGas", label: "GitHub" },
  {
    icon: faLinkedin,
    href: "https://www.linkedin.com/in/jos%C3%A9-monta%C3%B1o-gast%C3%A9lum-527426270/",
    label: "LinkedIn",
  },
  {
    icon: faInstagram,
    href: "https://www.instagram.com/josemogas.5",
    label: "Instagram",
  },
];
---

<footer
  class="bg-primary-blur backdrop-blur-xl w-full border-t border-text-primary/10 pt-10 pb-8 px-6.5 lg:px-20 lg:py-16"
>
  <div
    class="max-w-7xl mx-auto flex flex-col md:flex-row items-center md:items-start justify-between gap-10 md:gap-4"
  >
    <!-- Left: Copyright -->
    <div
      class="order-3 md:order-1 md:w-1/4 flex flex-col items-center md:items-start md:self-end"
    >
      <p
        class="font-jakarta text-2-75 lg:text-3.5 font-medium text-text-primary/60"
      >
        {footerBottom}
      </p>
    </div>

    <!-- Center: Branding -->
    <div
      class="order-1 md:order-2 md:w-1/2 flex flex-col items-center text-center"
    >
      <h2
        class="font-fraunces text-7 lg:text-12 font-bold text-text-primary mb-2 lg:mb-1"
      >
        {footerTitle}
      </h2>
      <p
        class="font-jakarta text-2-5 lg:text-3 font-semibold text-text-primary opacity-70 uppercase tracking-widest text-center max-w-xl leading-relaxed"
      >
        {footerDesc}
      </p>
    </div>

    <!-- Right: Social Links -->
    <div
      class="order-2 md:order-3 md:w-1/4 flex flex-col items-center md:items-end gap-3 lg:gap-4"
    >
      <!-- Desktop: Text links in column -->
      <div class="hidden md:flex flex-col items-end gap-3">
        {
          socials.map(({ href, label }) => (
            <a
              href={href}
              target="_blank"
              rel="noopener noreferrer"
              class="font-jakarta text-3 lg:text-3.5 font-bold text-text-primary uppercase tracking-widest opacity-70 hover:opacity-100 transition-all duration-200 hover:-translate-x-1"
            >
              {label}
            </a>
          ))
        }
      </div>

      <!-- Mobile: Icons only -->
      <div class="flex items-center gap-8 md:hidden mb-4">
        {
          socials.map(({ icon, href, label }) => (
            <a
              href={href}
              target="_blank"
              rel="noopener noreferrer"
              aria-label={label}
              class="text-text-primary opacity-70 hover:opacity-100 transition-opacity duration-200"
            >
              <Icon iconDef={icon} size={30} />
            </a>
          ))
        }
      </div>
    </div>
  </div>
</footer>
