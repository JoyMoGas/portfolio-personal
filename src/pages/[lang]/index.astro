---
import Layout from "../../layouts/Layout.astro";
import profileImg from "../../assets/profile.webp";

import { getLangFromUrl, useTranslations } from "../../i18n/utils";
import Navbar from "../../components/Navbar.astro";
import { languages } from "../../i18n/ui";
import Projects from "./projects.astro";
import SkillsCard from "../../components/SkillsCard.astro";
import SkillInfo from "../../components/SkillInfo.astro";
import Footer from "../../components/Footer.astro";

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const titleString = t("home.title");
const availbaleButton = t("home.available");
const introString = t("home.intro");

const projectsString = t("projects.title")

const arsenalTtitle = t("arsenal.title")
const arsenalFront = t("arsenal.frontend")
const arsenalBack = t("arsenal.backend")
const arsenalTools = t("arsenal.tools")

const aboutTitle = t("about.title")
const aboutDescription = t("about.description")

const softwareTitle = t("about.softwareTitle")
const softwareContent = t("about.softwareContent")

const systemsTitle = t("about.systemsTitle")
const systemsContent = t("about.systemsContent")

const securityTitle = t("about.securityTitle")
const securityContent = t("about.securityContent")

const optimizationTitle = t("about.optimizationTitle")
const optimizationContent = t("about.optimizationContent")

---

<Layout>
  <Navbar />
  <main class="mt-18 mx-10">
    <section>
      <div
        class="flex flex-col items-center align-middle content-center text-center"
      >
        <h1
          class="font-fraunces font-bold text-text-primary text-8"
          set:html={titleString}
        />
        
        <article class="flex flex-col items-center">
          <img
            src={profileImg.src}
            alt="Imagen del programador"
            class="w-80 rounded-full my-9.5"
          />

          <div
            class="bg-available border border-available-border rounded-full w-fit px-4 py-1.5"
          >
            <p
              class="font-jakarta text-text-accent font-semibold text-3-25"
              set:html={availbaleButton}
            />
          </div>

          <div class="my-9.5">
            <p class="text-left text-4" set:html={introString} />
          </div>
        </article>
      </div>
    </section>

    <section class="flex flex-col items-center align-middle content-center text-center">
      <h2 
        class="font-fraunces text-text-primary text-6 font-bold mb-9.5"
        set:html={projectsString}
      />

      <Projects />
    </section>

    <section class="flex flex-col items-center align-middle content-center text-center">
      <h2 class="font-fraunces text-text-primary text-6 font-bold mb-9.5">
        {arsenalTtitle}
      </h2>

      <SkillsCard 
        title={arsenalFront}
        elements={["React", "React Native", "TypeScript", "JavaScript", "Tailwind CSS", "Astro"]}
      />

      <SkillsCard 
        title={arsenalBack}
        elements={["Python", "Flask", "DJango", "JWT", "PostgreSQL", "Supabase"]}
      />

      <SkillsCard 
        title={arsenalTools}
        elements={["Vercel", "Git / Github", "Postman", "Web Scrapping", "VS Code", "Figma"]}
      />
    </section>

    <section class="flex flex-col items-center align-middle content-center text-center">
      <h2 class="font-fraunces text-text-primary text-6 font-bold mb-9.5">
        {aboutTitle}
      </h2>

      <div>
        <p
          class="text-left text-4 text-text-secondary mb-9.5"
          set:html={aboutDescription}
        />
      </div>
    </section>

    <section class="grid grid-cols-2 gap-8.75 mb-15">
      <SkillInfo title={softwareTitle} content={softwareContent} />

      <SkillInfo title={systemsTitle} content={systemsContent} />

      <SkillInfo title={securityTitle} content={securityContent} />

      <SkillInfo title={optimizationTitle} content={optimizationContent} />
    </section>

    
  </main>

  <Footer />
</Layout>
